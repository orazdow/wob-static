"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwob_static"] = self["webpackChunkwob_static"] || []).push([["src_site_projects_l2m_loader_js"],{

/***/ "./src/site/projects/l2m/loader.js":
/*!*****************************************!*\
  !*** ./src/site/projects/l2m/loader.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   edgeList: () => (/* binding */ edgeList),\n/* harmony export */   loadObj: () => (/* binding */ loadObj)\n/* harmony export */ });\nfunction loadObj(str, scale) {\n  let obj = {\n    vertices: {\n      v: [],\n      vt: [],\n      vn: []\n    },\n    elements: {\n      p: {\n        v: [],\n        vt: [],\n        vn: []\n      },\n      l: {\n        v: [],\n        vt: [],\n        vn: []\n      },\n      f: {\n        v: [],\n        vt: [],\n        vn: []\n      }\n    },\n    indices: {\n      v: [],\n      vt: [],\n      vn: []\n    }\n  };\n  if (!scale) scale = 1;\n  let a = str.split('\\n');\n  for (let s of a) {\n    let arr = s.split(' ').filter(el => el != '');\n    let c = arr.shift();\n    switch (c) {\n      case 'v':\n        arr = arr.map(f => +f * scale);\n        if (arr.length == 3) arr.push(1);\n        obj.vertices.v.push(arr);\n        break;\n      case 'vt':\n        obj.vertices.vt.push(arr.map(f => +f));\n        break;\n      case 'vn':\n        obj.vertices.vn.push(arr.map(f => +f));\n        break;\n      case 'f':\n      case 'l':\n      case 'p':\n        let f = obj.elements[c];\n        let v = [],\n          vt = [],\n          vn = [];\n        for (let e of arr) {\n          let el = e.split('/').filter(el => el != '');\n          switch (el.length) {\n            case 1:\n              v.push(+el[0] - 1);\n              break;\n            case 2:\n              v.push(+el[0] - 1);\n              vn.push(+el[1] - 1);\n              break;\n            case 3:\n              v.push(+el[0] - 1);\n              vt.push(+el[1] - 1);\n              vn.push(+el[2] - 1);\n              break;\n          }\n        }\n        if (v.length) f.v.push(v);\n        if (vt.length) f.vt.push(vt);\n        if (vn.length) f.vn.push(vn);\n    }\n    for (let e in obj.elements) {\n      for (let i in obj.elements[e]) {\n        obj.indices[i].push(...obj.elements[e][i]);\n      }\n    }\n  }\n  return obj;\n}\nfunction edgeList(elements) {\n  let edges = {};\n  function add(a, b) {\n    let key = a <= b ? a + ' ' + b : b + ' ' + a;\n    edges[key] = a < b ? [a, b] : [b, a];\n  }\n  for (let f of elements) {\n    let n = f.length;\n    if (n == 2) {\n      add(f[0], f[1]);\n    } else if (n > 2) {\n      for (let i = 0; i < n; i++) {\n        let a = f[i],\n          b = f[(i + 1) % n];\n        add(a, b);\n      }\n    }\n  }\n  return Object.values(edges);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2l0ZS9wcm9qZWN0cy9sMm0vbG9hZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b2Itc3RhdGljLy4vc3JjL3NpdGUvcHJvamVjdHMvbDJtL2xvYWRlci5qcz83M2Q5Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGxvYWRPYmooc3RyLCBzY2FsZSkge1xuICBsZXQgb2JqID0ge1xuICAgIHZlcnRpY2VzOiB7XG4gICAgICB2OiBbXSxcbiAgICAgIHZ0OiBbXSxcbiAgICAgIHZuOiBbXVxuICAgIH0sXG4gICAgZWxlbWVudHM6IHtcbiAgICAgIHA6IHtcbiAgICAgICAgdjogW10sXG4gICAgICAgIHZ0OiBbXSxcbiAgICAgICAgdm46IFtdXG4gICAgICB9LFxuICAgICAgbDoge1xuICAgICAgICB2OiBbXSxcbiAgICAgICAgdnQ6IFtdLFxuICAgICAgICB2bjogW11cbiAgICAgIH0sXG4gICAgICBmOiB7XG4gICAgICAgIHY6IFtdLFxuICAgICAgICB2dDogW10sXG4gICAgICAgIHZuOiBbXVxuICAgICAgfVxuICAgIH0sXG4gICAgaW5kaWNlczoge1xuICAgICAgdjogW10sXG4gICAgICB2dDogW10sXG4gICAgICB2bjogW11cbiAgICB9XG4gIH07XG4gIGlmICghc2NhbGUpIHNjYWxlID0gMTtcbiAgbGV0IGEgPSBzdHIuc3BsaXQoJ1xcbicpO1xuICBmb3IgKGxldCBzIG9mIGEpIHtcbiAgICBsZXQgYXJyID0gcy5zcGxpdCgnICcpLmZpbHRlcihlbCA9PiBlbCAhPSAnJyk7XG4gICAgbGV0IGMgPSBhcnIuc2hpZnQoKTtcbiAgICBzd2l0Y2ggKGMpIHtcbiAgICAgIGNhc2UgJ3YnOlxuICAgICAgICBhcnIgPSBhcnIubWFwKGYgPT4gK2YgKiBzY2FsZSk7XG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09IDMpIGFyci5wdXNoKDEpO1xuICAgICAgICBvYmoudmVydGljZXMudi5wdXNoKGFycik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndnQnOlxuICAgICAgICBvYmoudmVydGljZXMudnQucHVzaChhcnIubWFwKGYgPT4gK2YpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2bic6XG4gICAgICAgIG9iai52ZXJ0aWNlcy52bi5wdXNoKGFyci5tYXAoZiA9PiArZikpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2YnOlxuICAgICAgY2FzZSAnbCc6XG4gICAgICBjYXNlICdwJzpcbiAgICAgICAgbGV0IGYgPSBvYmouZWxlbWVudHNbY107XG4gICAgICAgIGxldCB2ID0gW10sXG4gICAgICAgICAgdnQgPSBbXSxcbiAgICAgICAgICB2biA9IFtdO1xuICAgICAgICBmb3IgKGxldCBlIG9mIGFycikge1xuICAgICAgICAgIGxldCBlbCA9IGUuc3BsaXQoJy8nKS5maWx0ZXIoZWwgPT4gZWwgIT0gJycpO1xuICAgICAgICAgIHN3aXRjaCAoZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHYucHVzaCgrZWxbMF0gLSAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHYucHVzaCgrZWxbMF0gLSAxKTtcbiAgICAgICAgICAgICAgdm4ucHVzaCgrZWxbMV0gLSAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHYucHVzaCgrZWxbMF0gLSAxKTtcbiAgICAgICAgICAgICAgdnQucHVzaCgrZWxbMV0gLSAxKTtcbiAgICAgICAgICAgICAgdm4ucHVzaCgrZWxbMl0gLSAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2Lmxlbmd0aCkgZi52LnB1c2godik7XG4gICAgICAgIGlmICh2dC5sZW5ndGgpIGYudnQucHVzaCh2dCk7XG4gICAgICAgIGlmICh2bi5sZW5ndGgpIGYudm4ucHVzaCh2bik7XG4gICAgfVxuICAgIGZvciAobGV0IGUgaW4gb2JqLmVsZW1lbnRzKSB7XG4gICAgICBmb3IgKGxldCBpIGluIG9iai5lbGVtZW50c1tlXSkge1xuICAgICAgICBvYmouaW5kaWNlc1tpXS5wdXNoKC4uLm9iai5lbGVtZW50c1tlXVtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiBlZGdlTGlzdChlbGVtZW50cykge1xuICBsZXQgZWRnZXMgPSB7fTtcbiAgZnVuY3Rpb24gYWRkKGEsIGIpIHtcbiAgICBsZXQga2V5ID0gYSA8PSBiID8gYSArICcgJyArIGIgOiBiICsgJyAnICsgYTtcbiAgICBlZGdlc1trZXldID0gYSA8IGIgPyBbYSwgYl0gOiBbYiwgYV07XG4gIH1cbiAgZm9yIChsZXQgZiBvZiBlbGVtZW50cykge1xuICAgIGxldCBuID0gZi5sZW5ndGg7XG4gICAgaWYgKG4gPT0gMikge1xuICAgICAgYWRkKGZbMF0sIGZbMV0pO1xuICAgIH0gZWxzZSBpZiAobiA+IDIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGxldCBhID0gZltpXSxcbiAgICAgICAgICBiID0gZlsoaSArIDEpICUgbl07XG4gICAgICAgIGFkZChhLCBiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZWRnZXMpO1xufVxuZXhwb3J0IHsgbG9hZE9iaiwgZWRnZUxpc3QgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/site/projects/l2m/loader.js\n");

/***/ })

}]);